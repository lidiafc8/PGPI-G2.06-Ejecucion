{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mundo Jardín - Administración</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .lm-green { background-color: #6a760c; }
        .lm-text-green { color: #6a760c; }
        .lm-hover-bg { background-color: #bf7149; }
    </style>
</head>
<body class="bg-gray-50">
    <header class="border-b border-gray-200 sticky top-0 z-50 bg-white">
    
    <div class="bg-[#fff6e4] border-b border-gray-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
                
                <a href="{% url 'adminpanel:adminpanel_index' %}"  class="flex items-center text-2xl font-extrabold lm-text-green tracking-tight flex-shrink-0 mr-5">
                    <img src="{% static 'logo.png' %}" 
                        alt="Logo Mundo Jardín" 
                        class="h-20 w-20 mr-3 rounded-full">
                    ADMINISTRACIÓN
                </a>

                <div class="flex items-center space-x-6">
                    <a href="{% url 'perfil:admin_perfil' %}" 
                    class="flex flex-col items-center text-[#6a760c] hover:text-[#bf7149] transition hidden sm:flex">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                        <span class="text-xs">Mi Cuenta</span>
                    </a>

                    <a href="{% url 'adminpanel:adminpanel_index' %}" class="flex flex-col items-center text-[#6a760c] hover:text-[#bf7149] transition relative">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                d="M3 3h7v7H3V3zM14 3h7v4h-7V3zM14 9h7v4h-7V9zM3 12h7v9H3v-9zM14 15h7v6h-7v-6z"/>
                        </svg>
                        <span class="text-xs">Gestión</span>
                    </a>

                    <a href="{% url 'home' %}" class="flex flex-col items-center text-[#6a760c] hover:text-[#bf7149] transition relative">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                d="M3 7h18M5 7v12a1 1 0 001 1h12a1 1 0 001-1V7M5 7l1-4h12l1 4M9 12h6v6H9v-6z"/>
                        </svg>
                        <span class="text-xs">Tienda</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

<main class="py-12 md:py-16 bg-[#fdfaf5]"> 
    <div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8"> 
        <div class="bg-white p-8 md:p-10 rounded-xl shadow-2xl border-2 border-gray-100">
            
            <h2 class="text-4xl font-extrabold text-gray-900 mb-10 text-center">
                PERFIL DEL ADMINISTRADOR
            </h2>

            {% comment %} Incluir mensajes de éxito o error aquí {% endcomment %}
            {% if messages %}
                <ul class="messages mb-6">
                    {% for message in messages %}
                        <li{% if message.tags %} class="{{ message.tags }} text-center p-3 rounded-lg {% if 'success' in message.tags %}bg-green-100 text-green-800{% else %}bg-red-100 text-red-800{% endif %}"{% endif %}>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            <form method="post" class="perfil-form space-y-6" id="perfil-form-guardar">
                {% csrf_token %}
                
                <h3 class="text-2xl font-bold mb-4 border-b pb-2 text-gray-700">Datos de Usuario</h3>
                
                {# CAMPOS DE USUARIO BASE (Nombre, Apellidos, Correo Electrónico) #}
                {% for field in user_form %}
                <div class="field-wrapper">
                    <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1 ml-1">
                        {{ field.label|upper }}
                    </label>
                    <div class="p-4 border-2 border-black rounded-lg bg-white shadow-sm flex items-center h-16">
                        {{ field }} 
                    </div>
                    {% for error in field.errors %}
                        <p class="errorlist text-red-600 text-sm mt-1">{{ error }}</p>
                    {% endfor %}
                </div>
                {% endfor %}
            </form>
            
            <div class="flex justify-between pt-8 items-center"> 
                
                <form action="{% url 'inicio_sesion:logout' %}" method="post" class="inline">
                    {% csrf_token %}
                    <button type="submit" 
                            class="px-5 py-3 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition duration-300 text-sm">
                        CERRAR SESIÓN
                    </button>
                </form>
                
                <button type="submit" form="perfil-form-guardar"
                        class="px-5 py-3 bg-[#6a760c] text-white font-semibold rounded-lg hover:bg-[#bf7149] transition duration-300 text-sm">
                    GUARDAR CAMBIOS
                </button>
            </div>
        </div>
    </div>
</main>